{"version":3,"sources":["components/WatchCard.js","components/Home.js","components/Login.js","components/UserDashboard.js","components/AdminDashboard.js","App.js","index.js"],"names":["WatchCard","props","className","name","details","length","slice","price","userData","undefined","watchlist","find","item","id","_id","onClick","itemId","itemName","payload","userId","watchId","watchName","axios","put","then","res","get","params","email","newUserData","data","setUserData","userToken","headers","sessionStorage","setItem","catch","err","console","log","addToWatchlist","removeFromWatchlist","Home","useState","products","setProducts","useEffect","readProducts","error","filter","category","map","Login","errorHandle","setErrorHandle","view","setView","loginEmail","setLoginEmail","loginPassword","setLoginPassword","regName","setRegName","regEmail","setRegEmail","regPassword","setRegPassword","type","required","placeholder","value","onChange","e","target","password","preventDefault","post","setIsLoggedIn","match","login","register","UserDashboard","React","updateUserData","AdminDashboard","watchesList","setWatchesList","addName","setAddName","addDetails","setAddDetails","addPrice","setAddPrice","addCategory","setAddCategory","viewAllWatches","rows","cols","min","step","disabled","response","delete","App","isLoggedIn","role","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.aa14f1e5.chunk.js","sourcesContent":["//Dependencies\r\nimport React from 'react';\r\nimport axios from 'axios';\r\n\r\nimport { FiWatch } from 'react-icons/fi';\r\n\r\n\r\nconst WatchCard = (props) => {\r\n\r\n    const addToWatchlist = (itemId, itemName) => {\r\n        const payload = {\r\n            userId: props.userData._id,\r\n            watchId: itemId,\r\n            watchName: itemName\r\n        }\r\n        axios.put(\"/api/users/addToWatchlist\", payload)\r\n        .then(res => {\r\n            //update local user data\r\n            axios.get('/api/users', {\r\n                params: {\r\n                    email: props.userData.email\r\n                }\r\n            })\r\n            .then(res => {\r\n                //set user data\r\n                const newUserData = res.data;\r\n                props.setUserData(newUserData);\r\n                //set headers\r\n                const userToken = res.headers[\"auth-token\"];\r\n                sessionStorage.setItem('userToken', userToken);\r\n            })\r\n            .catch(err => {\r\n                console.log(\"Error: \" + err);\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    const removeFromWatchlist = (itemId) => {\r\n        const payload = {\r\n            userId: props.userData._id,\r\n            watchId: itemId\r\n        }\r\n        axios.put(\"/api/users/removeFromWatchlist\", payload)\r\n        .then(res => {\r\n            //update local user data\r\n            axios.get('/api/users', {\r\n                params: {\r\n                    email: props.userData.email\r\n                }\r\n            })\r\n            .then(res => {\r\n                //set user data\r\n                const newUserData = res.data;\r\n                props.setUserData(newUserData);\r\n                //set headers\r\n                const userToken = res.headers[\"auth-token\"];\r\n                sessionStorage.setItem('userToken', userToken);\r\n            })\r\n            .catch(err => {\r\n                console.log(\"Error: \" + err);\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"watch-card\">\r\n            <div>\r\n                <FiWatch className=\"image\" />\r\n                <p className=\"name\">{props.name}</p>\r\n                <p>{props.details.length < 40 ? props.details : `${props.details.slice(0,40)}...`}</p>\r\n                <p className=\"price\">${props.price}</p>\r\n            </div>\r\n            {props.userData ?\r\n                <div>\r\n                    {props.userData.watchlist.find(item => item.id === props._id) === undefined ?\r\n                    <button onClick={() => addToWatchlist(props._id, props.name)}>Add to watchlist</button> :\r\n                    <button onClick={() => removeFromWatchlist(props._id)}>Already being watched</button>\r\n                    }\r\n                </div>\r\n                :\r\n                <div>\r\n                    <button>Login to add to watchlist</button>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default WatchCard","//Dependencies\r\nimport {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\n\r\nimport WatchCard from './WatchCard';\r\n\r\nconst Home = (props) => {\r\n    //UserData\r\n    // eslint-disable-next-line\r\n    const [products, setProducts] = useState([]);\r\n\r\n    useEffect(() => {\r\n        readProducts();\r\n    }, []);\r\n\r\n    const readProducts = () => {\r\n        axios.get('./api/products')\r\n        .then((res) => {\r\n            setProducts(res.data);\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Error: \" + error)\r\n        })\r\n    }   \r\n\r\n  \r\n    return (\r\n        <div className=\"home\">\r\n\r\n            <div className=\"hero\">\r\n                <div className=\"container\">\r\n                    <div className=\"column-1\">\r\n                        <div className=\"item-1\">\r\n                            <p>Chronograph watches</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"column-2\">\r\n                        <div className=\"item-2\">\r\n                            <p>Dress watches</p>\r\n                        </div>\r\n                        <div className=\"item-3\">\r\n                            <p>Automatic watches</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"category__container\">\r\n                <div className=\"header\">\r\n                    <h1>Chronograph watches</h1>\r\n                </div>\r\n                <div className=\"container\">\r\n                    {(products.filter(item => item.category === 'chronograph')).map(item => \r\n                    <WatchCard \r\n                    userData={props.userData} setUserData={props.setUserData}\r\n                        _id={item._id}\r\n                        name={item.name}\r\n                        details={item.details}\r\n                        price={item.price}\r\n                    />\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"category__container\">\r\n                <div className=\"header\">\r\n                    <h1>Automatic watches</h1>\r\n                </div>\r\n                <div className=\"container\">\r\n                    {(products.filter(item => item.category === 'automatic')).map(item => \r\n                    <WatchCard\r\n                        userData={props.userData} setUserData={props.setUserData}\r\n                        _id={item._id}\r\n                        name={item.name}\r\n                        details={item.details}\r\n                        price={item.price}\r\n                    />\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"category__container\">\r\n                <div className=\"header\">\r\n                    <h1>Dress watches</h1>\r\n                </div>\r\n                <div className=\"container\">\r\n                    {(products.filter(item => item.category === 'dress')).map(item => \r\n                    <WatchCard\r\n                        userData={props.userData} setUserData={props.setUserData}\r\n                        _id={item._id}\r\n                        name={item.name}\r\n                        details={item.details}\r\n                        price={item.price}\r\n                    />\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"footer\">\r\n                <h1>Created by Joshua Lausberg</h1>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home","import { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Login = (props) => {\r\n    //UserData\r\n    // eslint-disable-next-line\r\n    const [errorHandle, setErrorHandle] = useState([]);\r\n    //View\r\n    // eslint-disable-next-line\r\n    const [view, setView] = useState('login');\r\n    //Login\r\n    const [loginEmail, setLoginEmail] = useState('phill@gmail.com');\r\n    const [loginPassword, setLoginPassword] = useState('phill123');\r\n    //Register\r\n    const [regName, setRegName] = useState('');\r\n    const [regEmail, setRegEmail] = useState('');\r\n    const [regPassword, setRegPassword] = useState('');\r\n\r\n    //Login existing user - pass\r\n    const login = (e, email, password) => {\r\n        e.preventDefault();\r\n        const details = {\r\n            email: email,\r\n            password: password\r\n        }\r\n        axios.post('/api/users/login', details)\r\n        .then(res => {\r\n            if (res.data === 'success') {\r\n                axios.get('/api/users', {\r\n                    params: {\r\n                        email: loginEmail\r\n                    }\r\n                })\r\n                .then(res => {\r\n                    //set user data\r\n                    const newUserData = res.data;\r\n                    props.setUserData(newUserData);\r\n                    //set headers\r\n                    const userToken = res.headers[\"auth-token\"];\r\n                    sessionStorage.setItem('userToken', userToken);\r\n                    //redirect to home\r\n                    props.setIsLoggedIn(true);\r\n                    props.setView('home');\r\n                })\r\n                .catch(err => {\r\n                    console.log(\"Error: \" + err);\r\n                })\r\n            } else {\r\n                let match = res.data.match(/\"([^\"]*)\"/);\r\n                let error = [];\r\n                switch (match[1]) {\r\n                    case 'email':\r\n                        error = ['login-email', res.data];\r\n                        setErrorHandle(error);\r\n                        setLoginEmail('');\r\n                        break;\r\n                    case 'password':\r\n                        error = ['login-password', res.data];\r\n                        setErrorHandle(error);\r\n                        setLoginPassword('');\r\n                        break;\r\n                    default:\r\n                        console.log('something went wrong...');\r\n                }\r\n            }\r\n            console.log(res.data)\r\n            // if (res.data.length > 15) {\r\n            //     //Get User Data\r\n            //     axios.get('/api/users', {\r\n            //         params: {\r\n            //             email: loginEmail\r\n            //         }\r\n            //     })\r\n            //     .then(res => {\r\n            //         //set user data\r\n            //         const newUserData = res.data;\r\n            //         props.setUserData(newUserData);\r\n            //         //set headers\r\n            //         const userToken = res.headers[\"auth-token\"];\r\n            //         sessionStorage.setItem('userToken', userToken);\r\n            //         //redirect to home\r\n            //         props.setIsLoggedIn(true);\r\n            //         props.setView('home');\r\n            //     })\r\n            //     .catch(err => {\r\n            //         console.log(\"Error: \" + err);\r\n            //     })\r\n            // } else {\r\n            //     let match = res.data.match(/\"([^\"]*)\"/);\r\n            //     let error = [];\r\n            //     switch (match[1]) {\r\n            //         case 'email':\r\n            //             error = ['login-email', res.data];\r\n            //             setErrorHandle(error);\r\n            //             setLoginEmail('');\r\n            //             break;\r\n            //         case 'password':\r\n            //             error = ['login-password', res.data];\r\n            //             setErrorHandle(error);\r\n            //             setLoginPassword('');\r\n            //             break;\r\n            //         default:\r\n            //             console.log('something went wrong...');\r\n            //     }\r\n            // }\r\n        })\r\n    }\r\n\r\n    //Register new user\r\n    const register = (e) => {\r\n        e.preventDefault();\r\n        const payload = {\r\n            name: regName,\r\n            email: regEmail,\r\n            password: regPassword\r\n        }\r\n        axios.post('/api/users/register', payload)\r\n        .then(res => {\r\n            if (res.data === 'success') {\r\n                setView('login');\r\n                setErrorHandle('registered');\r\n            } else {\r\n                let match = res.data.match(/\"([^\"]*)\"/);\r\n                let error = [];\r\n                switch (match[1]) {\r\n                    case 'name':\r\n                        error = ['register-name', res.data];\r\n                        setErrorHandle(error);\r\n                        setRegName('');\r\n                        break;\r\n                    case 'email':\r\n                        error = ['register-email', res.data];\r\n                        setErrorHandle(error);\r\n                        setRegEmail('');\r\n                        break;\r\n                    case 'password':\r\n                        error = ['register-password', res.data];\r\n                        setErrorHandle(error);\r\n                        setRegPassword('');\r\n                        break;\r\n                    default:\r\n                        console.log('something went wrong...');\r\n                }\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        })\r\n    }\r\n    \r\n    return (\r\n        <div  className=\"auth\">\r\n            <div className=\"auth__container\">\r\n                <h1><span onClick={() => setView('login')} className={view === 'login' ? 'active' : undefined}>Login</span> | <span onClick={() => setView('register')} className={view === 'register' ? 'active' : undefined}>Register</span></h1>\r\n                {view === 'login' &&\r\n                <div className=\"login__container\">\r\n                    <form>\r\n                        <input type=\"text\" required placeholder={errorHandle[0] === 'login-email' ? errorHandle[1] : 'Email'}\r\n                            value={loginEmail} onChange={(e) => setLoginEmail(e.target.value)}></input>\r\n                        <input type=\"password\" required placeholder={errorHandle[0] === 'login-password' ? errorHandle[1] : 'Password'}\r\n                            value={loginPassword} onChange={(e) => setLoginPassword(e.target.value)}></input>\r\n\r\n                        <button className=\"submit\" onClick={(e) => login(e, loginEmail, loginPassword)}>Login</button>\r\n                    </form>\r\n                    {errorHandle === 'registered' &&\r\n                    <p>Successfully registered!<br/>Please login.</p>\r\n                    }\r\n                </div>\r\n                }\r\n                {view === 'register' &&\r\n                <div className=\"register__container\">\r\n                    {errorHandle !== 'registered' &&\r\n                    <form className=\"input-main\">\r\n                        <input type=\"text\" required placeholder={errorHandle[0] === 'register-name' ? errorHandle[1] : 'Name'}\r\n                            value={regName} onChange={(e) => setRegName(e.target.value)}></input>\r\n                        <input type=\"text\" required placeholder={errorHandle[0] === 'register-email' ? errorHandle[1] : 'Email'}\r\n                            value={regEmail} onChange={(e) => setRegEmail(e.target.value)}></input>\r\n                        <input type=\"password\" required placeholder={errorHandle[0] === 'register-password' ? errorHandle[1] : 'Password'}\r\n                            value={regPassword} onChange={(e) => setRegPassword(e.target.value)}></input>\r\n                        \r\n                        <button className=\"submit\" onClick={(e) => register(e, regName, regEmail, regPassword)}>Register</button>\r\n                    </form>\r\n                    }\r\n                </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login","//Dependencies\r\nimport React from 'react';\r\nimport axios from 'axios';\r\n\r\nconst UserDashboard = (props) => {\r\n\r\n    React.useEffect(() => {\r\n        console.log(props.userData)\r\n    }, []);    \r\n\r\n    const removeFromWatchlist = (itemId) => {\r\n        const payload = {\r\n            userId: props.userData._id,\r\n            watchId: itemId\r\n        }\r\n        axios.put(\"/api/users/removeFromWatchlist\", payload)\r\n        .then(res => {\r\n            props.updateUserData();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    }\r\n     \r\n    return (\r\n        <div className=\"profile\">\r\n            <h1>User dash</h1>\r\n            <h3>Watchlist:</h3>\r\n            {props.userData.watchlist.map(item =>\r\n                <div>\r\n                    <p>{item.name}</p>\r\n                    <button onClick={() => removeFromWatchlist(item.id)}>Remove from watchlist</button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserDashboard","//Dependencies\r\nimport React from 'react';\r\nimport axios from 'axios';\r\nimport {useState} from 'react';\r\n\r\n\r\nconst AdminDashboard = (props) => {\r\n    //watches\r\n    const [watchesList, setWatchesList] = useState();\r\n    //add-item\r\n    const [addName, setAddName] = useState('');\r\n    const [addDetails, setAddDetails] = useState('');\r\n    const [addPrice, setAddPrice] = useState('');\r\n    const [addCategory, setAddCategory] = useState('');\r\n\r\n    React.useEffect(() => {\r\n        console.log(props.userData)\r\n    }, []);\r\n\r\n    const viewAllWatches = () => {\r\n        axios.get('./api/products')\r\n        .then((res) => {\r\n            setWatchesList(res.data);\r\n            console.log(watchesList)\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Error: \" + error)\r\n        })\r\n    }\r\n\r\n    const addWatch = () => {\r\n        const payload = {\r\n            name: addName,\r\n            details: addDetails,\r\n            price: addPrice,\r\n            category: addCategory\r\n        };\r\n        axios.post('./api/products/addWatch', payload)\r\n        .then(function (response) {\r\n            viewAllWatches();\r\n        })\r\n        .catch(function (error) {\r\n            console.log(error);\r\n        });\r\n    }\r\n\r\n    const deleteWatch = (id) => {\r\n        axios.delete(\"/api/products/deleteWatch/\" + id)\r\n        .then((res) => {\r\n            viewAllWatches();\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n    }\r\n     \r\n    return (\r\n        <div className=\"profile\">\r\n            <h1>Admin</h1>\r\n            {/* Add watch */}\r\n            <div className=\"add-watch__container\">\r\n                <h3>Add new watch:</h3>\r\n                <div className=\"input__container\">\r\n                    <label>Name</label>\r\n                    <input type=\"text\" value={addName} onChange={(e) => setAddName(e.target.value)}></input>\r\n                </div>\r\n                <div className=\"input__container\">\r\n                    <label>Details</label>\r\n                    <textarea rows=\"4\" cols=\"50\" value={addDetails} onChange={(e) => setAddDetails(e.target.value)}></textarea>\r\n                </div>\r\n                <div className=\"input__container\">\r\n                    <label>Price</label>\r\n                    <input type=\"number\" min=\"1\" step=\"any\" value={addPrice} onChange={(e) => setAddPrice(e.target.value)}></input>\r\n                </div>\r\n                <div className=\"input__container\">\r\n                    <label>Category</label>\r\n                    <select value={addCategory} onChange={(e) => setAddCategory(e.target.value)}>\r\n                        <option value=\"\" disabled>Choose a type</option>\r\n                        <option value=\"automatic\">Automatic</option>\r\n                        <option value=\"chronograph\">Chronograph</option>\r\n                        <option value=\"dress\">Dress</option>\r\n                    </select>\r\n                </div>\r\n                <button onClick={addWatch}>Add watch</button>\r\n            </div>\r\n            {/* View watches */}\r\n            <div>\r\n                <button onClick={viewAllWatches}>View all watches</button>\r\n            {watchesList &&\r\n            watchesList.map(item => \r\n                <div>\r\n                    <p>Name: {item.name}</p>\r\n                    <p>Category: {item.category}</p>\r\n                    <p>Price: ${item.price}</p>\r\n                    <button onClick={() => deleteWatch(item._id)}>Delete</button>\r\n                </div>\r\n            )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AdminDashboard","import React from 'react';\nimport axios from 'axios';\nimport './App.css';\n//Components\nimport Home from './components/Home';\nimport Login from './components/Login';\nimport UserDashboard from './components/UserDashboard';\nimport AdminDashboard from './components/AdminDashboard';\n//Icons\nimport { CgLogOut, CgProfile } from 'react-icons/cg';\n\nfunction App() {\n  //UserData\n  // eslint-disable-next-line\n  const [userData, setUserData] = React.useState();\n\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n  const [view, setView] = React.useState('home');\n\n  const updateUserData = () => {\n    axios.get('/api/users', {\n        params: {\n            email: userData.email\n        }\n    })\n    .then(res => {\n        //set user data\n        const newUserData = res.data;\n        setUserData(newUserData);\n        //set headers\n        const userToken = res.headers[\"auth-token\"];\n        sessionStorage.setItem('userToken', userToken);\n    })\n    .catch(err => {\n        console.log(\"Error: \" + err);\n    })\n}\n\n  return (\n    <div className=\"App\">\n        <div className=\"navbar\">\n            <div className=\"logo\">\n\n            </div>\n            <div className=\"links__container\">\n                <div className=\"link\">\n                  <p onClick={() => setView('home')}>Home</p>\n                </div>\n            </div>\n            {isLoggedIn ?\n              <div className=\"profile\">\n                {userData.role === 'admin' ?\n                <CgProfile className=\"profile__icon\" onClick={() => setView('admin-dashboard')} /> :\n                <CgProfile className=\"profile__icon\" onClick={() => setView('user-dashboard')} />\n                }\n                <CgLogOut className=\"logout__icon\" onClick={() => setIsLoggedIn(false)} />\n              </div>\n              :\n              <div className=\"profile\">\n                <p onClick={() => setView('login')}>Login</p>\n              </div>\n            }\n        </div>\n        {view === 'home' &&\n          <Home userData={userData} setUserData={setUserData} />\n        }\n        {view === 'login' &&\n          <Login setUserData={setUserData} setIsLoggedIn={setIsLoggedIn} setView={setView}/>\n        }\n        {view === 'admin-dashboard' &&\n          <AdminDashboard userData={userData} setUserData={setUserData} updateUserData={updateUserData} />\n        }\n        {view === 'user-dashboard' &&\n          <UserDashboard userData={userData} setUserData={setUserData} updateUserData={updateUserData} />\n        }\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}