{"version":3,"sources":["actions/index.js","components/WatchCard.js","pages/Home.js","pages/Login.js","pages/UserDashboard.js","pages/AdminDashboard.js","pages/Product.js","App.js","reducers/userData.js","reducers/view.js","reducers/isLogged.js","reducers/index.js","index.js"],"names":["updateView","data","type","payload","updateUserData","updateIsLogged","WatchCard","props","dispatch","useDispatch","userData","useSelector","state","isLogged","className","name","details","length","slice","price","undefined","watchlist","find","item","id","_id","onClick","itemId","itemName","userId","watchId","watchName","axios","put","then","res","get","params","email","newUserData","userToken","headers","sessionStorage","setItem","catch","err","console","log","addToWatchlist","removeFromWatchlist","Home","useState","products","setProducts","useEffect","readProducts","error","filter","category","map","setView","Login","view","authView","setAuthView","errorHandle","setErrorHandle","loginEmail","setLoginEmail","loginPassword","setLoginPassword","regName","setRegName","regEmail","setRegEmail","regPassword","setRegPassword","required","placeholder","value","onChange","e","target","password","preventDefault","post","match","login","register","UserDashboard","React","readUserData","AdminDashboard","watchesList","setWatchesList","addName","setAddName","addDetails","setAddDetails","addPrice","setAddPrice","addCategory","setAddCategory","viewAllWatches","rows","cols","min","step","disabled","response","delete","Product","App","role","userDataReducer","action","viewReducer","isLoggedReducer","rootReducer","combineReducers","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9ad6440d.chunk.js","sourcesContent":["//View\r\nexport const updateView = (data) => {\r\n    return {\r\n        type: 'UPDATE_VIEW',\r\n        payload: data\r\n    }\r\n};\r\n\r\n\r\n//UserData\r\nexport const updateUserData = (data) => {\r\n    return {\r\n        type: 'UPDATE_USERDATA',\r\n        payload: data\r\n    }\r\n}\r\n\r\n//isLogged\r\nexport const updateIsLogged = (data) => {\r\n    return {\r\n        type: 'UPDATE_ISLOGGED',\r\n        payload: data\r\n    }\r\n}","//Dependencies\r\nimport React from 'react';\r\nimport axios from 'axios';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { updateView, updateUserData } from '../actions';\r\n\r\nimport { FiWatch } from 'react-icons/fi';\r\n\r\n\r\nconst WatchCard = (props) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const userData = useSelector(state => state.userData);\r\n    const isLogged = useSelector(state => state.isLogged);\r\n\r\n    const addToWatchlist = (itemId, itemName) => {\r\n        const payload = {\r\n            userId: userData._id,\r\n            watchId: itemId,\r\n            watchName: itemName\r\n        }\r\n        axios.put(\"/api/users/addToWatchlist\", payload)\r\n        .then(res => {\r\n            //update local user data\r\n            axios.get('/api/users', {\r\n                params: {\r\n                    email: userData.email\r\n                }\r\n            })\r\n            .then(res => {\r\n                //set user data\r\n                const newUserData = res.data;\r\n                dispatch(updateUserData(newUserData));\r\n                //set headers\r\n                const userToken = res.headers[\"auth-token\"];\r\n                sessionStorage.setItem('userToken', userToken);\r\n            })\r\n            .catch(err => {\r\n                console.log(\"Error: \" + err);\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    const removeFromWatchlist = (itemId) => {\r\n        const payload = {\r\n            userId: userData._id,\r\n            watchId: itemId\r\n        }\r\n        axios.put(\"/api/users/removeFromWatchlist\", payload)\r\n        .then(res => {\r\n            //update local user data\r\n            axios.get('/api/users', {\r\n                params: {\r\n                    email: userData.email\r\n                }\r\n            })\r\n            .then(res => {\r\n                //set user data\r\n                const newUserData = res.data;\r\n                dispatch(updateUserData(newUserData));\r\n                //set headers\r\n                const userToken = res.headers[\"auth-token\"];\r\n                sessionStorage.setItem('userToken', userToken);\r\n            })\r\n            .catch(err => {\r\n                console.log(\"Error: \" + err);\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"watch-card\">\r\n            <div>\r\n                <FiWatch className=\"image\" />\r\n                <p className=\"name\">{props.name}</p>\r\n                <p>{props.details.length < 40 ? props.details : `${props.details.slice(0,40)}...`}</p>\r\n                <p className=\"price\">${props.price}</p>\r\n            </div>\r\n            {isLogged ?\r\n                <div>\r\n                    {userData.watchlist.find(item => item.id === props._id) === undefined ?\r\n                    <button onClick={() => addToWatchlist(props._id, props.name)}>Add to watchlist</button> :\r\n                    <button onClick={() => removeFromWatchlist(props._id)}>Already being watched</button>\r\n                    }\r\n                    <button onClick={() => dispatch(updateView('product'))}>View</button>\r\n                </div>\r\n                :\r\n                <div>\r\n                    <button onClick={() => dispatch(updateView('login'))}>Login to add to watchlist</button>\r\n                    <button onClick={() => dispatch(updateView('product'))}>View</button>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default WatchCard","//Dependencies\r\nimport {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport WatchCard from '../components/WatchCard';\r\n\r\nconst Home = (props) => {\r\n    const userData = useSelector(state => state.userData);\r\n    const [products, setProducts] = useState([]);\r\n\r\n    useEffect(() => {\r\n        readProducts();\r\n    }, []);\r\n\r\n    const readProducts = () => {\r\n        axios.get('./api/products')\r\n        .then((res) => {\r\n            setProducts(res.data);\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Error: \" + error)\r\n        })\r\n    }   \r\n\r\n  \r\n    return (\r\n        <div className=\"home\">\r\n\r\n            <div className=\"hero\">\r\n                <div className=\"container\">\r\n                    <div className=\"column-1\">\r\n                        <div className=\"item-1\">\r\n                            <p>Chronograph watches</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"column-2\">\r\n                        <div className=\"item-2\">\r\n                            <p>Dress watches</p>\r\n                        </div>\r\n                        <div className=\"item-3\">\r\n                            <p>Automatic watches</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"category__container\">\r\n                <div className=\"header\">\r\n                    <h1>Chronograph watches</h1>\r\n                </div>\r\n                <div className=\"container\">\r\n                    {(products.filter(item => item.category === 'chronograph')).map(item => \r\n                    <WatchCard \r\n                        setView={props.setView}\r\n                        _id={item._id}\r\n                        name={item.name}\r\n                        details={item.details}\r\n                        price={item.price}\r\n                    />\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"category__container\">\r\n                <div className=\"header\">\r\n                    <h1>Automatic watches</h1>\r\n                </div>\r\n                <div className=\"container\">\r\n                    {(products.filter(item => item.category === 'automatic')).map(item => \r\n                    <WatchCard\r\n                        _id={item._id}\r\n                        name={item.name}\r\n                        details={item.details}\r\n                        price={item.price}\r\n                    />\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"category__container\">\r\n                <div className=\"header\">\r\n                    <h1>Dress watches</h1>\r\n                </div>\r\n                <div className=\"container\">\r\n                    {(products.filter(item => item.category === 'dress')).map(item => \r\n                    <WatchCard\r\n                        setView={props.setView}\r\n                        _id={item._id}\r\n                        name={item.name}\r\n                        details={item.details}\r\n                        price={item.price}\r\n                    />\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"footer\">\r\n                <h1>Created by Joshua Lausberg</h1>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home","import { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { updateView, updateUserData, updateIsLogged } from '../actions';\r\n\r\nconst Login = (props) => {\r\n    const dispatch = useDispatch();\r\n    //UserData\r\n    const view = useSelector(state => state.view);\r\n    const isLogged = useSelector(state => state.isLogged);\r\n\r\n    const [authView, setAuthView] = useState('login');\r\n    \r\n    const [errorHandle, setErrorHandle] = useState([]);\r\n    //Login\r\n    const [loginEmail, setLoginEmail] = useState('legion@gmail.com');\r\n    const [loginPassword, setLoginPassword] = useState('legion123');\r\n    //Register\r\n    const [regName, setRegName] = useState('');\r\n    const [regEmail, setRegEmail] = useState('');\r\n    const [regPassword, setRegPassword] = useState('');\r\n\r\n    //Login existing user - pass\r\n    const login = (e, email, password) => {\r\n        e.preventDefault();\r\n        const details = {\r\n            email: email,\r\n            password: password\r\n        }\r\n        axios.post('/api/users/login', details)\r\n        .then(res => {\r\n            if (res.data === 'success') {\r\n                axios.get('/api/users', {\r\n                    params: {\r\n                        email: loginEmail\r\n                    }\r\n                })\r\n                .then(res => {\r\n                    //set user data\r\n                    const newUserData = res.data;\r\n                    dispatch(updateUserData(newUserData));\r\n                    //set headers\r\n                    const userToken = res.headers[\"auth-token\"];\r\n                    sessionStorage.setItem('userToken', userToken);\r\n                    //redirect to home\r\n                    dispatch(updateIsLogged(true));\r\n                    dispatch(updateView('home'));\r\n                })\r\n                .catch(err => {\r\n                    console.log(\"Error: \" + err);\r\n                })\r\n            } else {\r\n                let match = res.data.match(/\"([^\"]*)\"/);\r\n                let error = [];\r\n                switch (match[1]) {\r\n                    case 'email':\r\n                        error = ['login-email', res.data];\r\n                        setErrorHandle(error);\r\n                        setLoginEmail('');\r\n                        break;\r\n                    case 'password':\r\n                        error = ['login-password', res.data];\r\n                        setErrorHandle(error);\r\n                        setLoginPassword('');\r\n                        break;\r\n                    default:\r\n                        console.log('something went wrong...');\r\n                }\r\n            }\r\n            console.log(res.data)\r\n            // if (res.data.length > 15) {\r\n            //     //Get User Data\r\n            //     axios.get('/api/users', {\r\n            //         params: {\r\n            //             email: loginEmail\r\n            //         }\r\n            //     })\r\n            //     .then(res => {\r\n            //         //set user data\r\n            //         const newUserData = res.data;\r\n            //         props.setUserData(newUserData);\r\n            //         //set headers\r\n            //         const userToken = res.headers[\"auth-token\"];\r\n            //         sessionStorage.setItem('userToken', userToken);\r\n            //         //redirect to home\r\n            //         props.setIsLoggedIn(true);\r\n            //         props.setView('home');\r\n            //     })\r\n            //     .catch(err => {\r\n            //         console.log(\"Error: \" + err);\r\n            //     })\r\n            // } else {\r\n            //     let match = res.data.match(/\"([^\"]*)\"/);\r\n            //     let error = [];\r\n            //     switch (match[1]) {\r\n            //         case 'email':\r\n            //             error = ['login-email', res.data];\r\n            //             setErrorHandle(error);\r\n            //             setLoginEmail('');\r\n            //             break;\r\n            //         case 'password':\r\n            //             error = ['login-password', res.data];\r\n            //             setErrorHandle(error);\r\n            //             setLoginPassword('');\r\n            //             break;\r\n            //         default:\r\n            //             console.log('something went wrong...');\r\n            //     }\r\n            // }\r\n        })\r\n    }\r\n\r\n    //Register new user\r\n    const register = (e) => {\r\n        e.preventDefault();\r\n        const payload = {\r\n            name: regName,\r\n            email: regEmail,\r\n            password: regPassword\r\n        }\r\n        axios.post('/api/users/register', payload)\r\n        .then(res => {\r\n            if (res.data === 'success') {\r\n                dispatch(updateView('login'));\r\n                setErrorHandle('registered');\r\n            } else {\r\n                let match = res.data.match(/\"([^\"]*)\"/);\r\n                let error = [];\r\n                switch (match[1]) {\r\n                    case 'name':\r\n                        error = ['register-name', res.data];\r\n                        setErrorHandle(error);\r\n                        setRegName('');\r\n                        break;\r\n                    case 'email':\r\n                        error = ['register-email', res.data];\r\n                        setErrorHandle(error);\r\n                        setRegEmail('');\r\n                        break;\r\n                    case 'password':\r\n                        error = ['register-password', res.data];\r\n                        setErrorHandle(error);\r\n                        setRegPassword('');\r\n                        break;\r\n                    default:\r\n                        console.log('something went wrong...');\r\n                }\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        })\r\n    }\r\n    \r\n    return (\r\n        <div  className=\"auth\">\r\n            <div className=\"auth__container\">\r\n                <h1><span onClick={() => setAuthView('login')} className={authView === 'login' ? 'active' : undefined}>Login</span> | <span onClick={() => setAuthView('register')} className={authView === 'register' ? 'active' : undefined}>Register</span></h1>\r\n                {authView === 'login' &&\r\n                <div className=\"login__container\">\r\n                    <form>\r\n                        <input type=\"text\" required placeholder={errorHandle[0] === 'login-email' ? errorHandle[1] : 'Email'}\r\n                            value={loginEmail} onChange={(e) => setLoginEmail(e.target.value)}></input>\r\n                        <input type=\"password\" required placeholder={errorHandle[0] === 'login-password' ? errorHandle[1] : 'Password'}\r\n                            value={loginPassword} onChange={(e) => setLoginPassword(e.target.value)}></input>\r\n\r\n                        <button className=\"submit\" onClick={(e) => login(e, loginEmail, loginPassword)}>Login</button>\r\n                    </form>\r\n                    {errorHandle === 'registered' &&\r\n                    <p>Successfully registered!<br/>Please login.</p>\r\n                    }\r\n                </div>\r\n                }\r\n                {authView === 'register' &&\r\n                <div className=\"register__container\">\r\n                    {errorHandle !== 'registered' &&\r\n                    <form className=\"input-main\">\r\n                        <input type=\"text\" required placeholder={errorHandle[0] === 'register-name' ? errorHandle[1] : 'Name'}\r\n                            value={regName} onChange={(e) => setRegName(e.target.value)}></input>\r\n                        <input type=\"text\" required placeholder={errorHandle[0] === 'register-email' ? errorHandle[1] : 'Email'}\r\n                            value={regEmail} onChange={(e) => setRegEmail(e.target.value)}></input>\r\n                        <input type=\"password\" required placeholder={errorHandle[0] === 'register-password' ? errorHandle[1] : 'Password'}\r\n                            value={regPassword} onChange={(e) => setRegPassword(e.target.value)}></input>\r\n                        \r\n                        <button className=\"submit\" onClick={(e) => register(e, regName, regEmail, regPassword)}>Register</button>\r\n                    </form>\r\n                    }\r\n                </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login","//Dependencies\r\nimport React from 'react';\r\nimport axios from 'axios';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nconst UserDashboard = (props) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const userData = useSelector(state => state.userData);\r\n\r\n    React.useEffect(() => {\r\n        console.log(userData)\r\n    // eslint-disable-next-line\r\n    }, []);    \r\n\r\n    const removeFromWatchlist = (itemId) => {\r\n        const payload = {\r\n            userId: userData._id,\r\n            watchId: itemId\r\n        }\r\n        axios.put(\"/api/users/removeFromWatchlist\", payload)\r\n        .then(res => {\r\n            props.readUserData();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    }\r\n     \r\n    return (\r\n        <div className=\"profile\">\r\n            <h1>User dash</h1>\r\n            <h3>Watchlist:</h3>\r\n            {userData.watchlist.map(item =>\r\n                <div>\r\n                    <p>{item.name}</p>\r\n                    <button onClick={() => removeFromWatchlist(item.id)}>Remove from watchlist</button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserDashboard","//Dependencies\r\nimport React from 'react';\r\nimport axios from 'axios';\r\nimport {useState} from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\n\r\nconst AdminDashboard = (props) => {\r\n    const dispatch = useDispatch();\r\n    const userData = useSelector(state => state.userData);\r\n    //watches\r\n    const [watchesList, setWatchesList] = useState();\r\n    //add-item\r\n    const [addName, setAddName] = useState('');\r\n    const [addDetails, setAddDetails] = useState('');\r\n    const [addPrice, setAddPrice] = useState('');\r\n    const [addCategory, setAddCategory] = useState('');\r\n\r\n    React.useEffect(() => {\r\n        console.log(userData)\r\n    }, []);\r\n\r\n    const viewAllWatches = () => {\r\n        axios.get('./api/products')\r\n        .then((res) => {\r\n            setWatchesList(res.data);\r\n            console.log(watchesList)\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Error: \" + error)\r\n        })\r\n    }\r\n\r\n    const addWatch = () => {\r\n        const payload = {\r\n            name: addName,\r\n            details: addDetails,\r\n            price: addPrice,\r\n            category: addCategory\r\n        };\r\n        axios.post('./api/products/addWatch', payload)\r\n        .then(function (response) {\r\n            viewAllWatches();\r\n        })\r\n        .catch(function (error) {\r\n            console.log(error);\r\n        });\r\n    }\r\n\r\n    const deleteWatch = (id) => {\r\n        axios.delete(\"/api/products/deleteWatch/\" + id)\r\n        .then((res) => {\r\n            viewAllWatches();\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n    }\r\n     \r\n    return (\r\n        <div className=\"profile\">\r\n            <h1>Admin</h1>\r\n            {/* Add watch */}\r\n            <div className=\"add-watch__container\">\r\n                <h3>Add new watch:</h3>\r\n                <div className=\"input__container\">\r\n                    <label>Name</label>\r\n                    <input type=\"text\" value={addName} onChange={(e) => setAddName(e.target.value)}></input>\r\n                </div>\r\n                <div className=\"input__container\">\r\n                    <label>Details</label>\r\n                    <textarea rows=\"4\" cols=\"50\" value={addDetails} onChange={(e) => setAddDetails(e.target.value)}></textarea>\r\n                </div>\r\n                <div className=\"input__container\">\r\n                    <label>Price</label>\r\n                    <input type=\"number\" min=\"1\" step=\"any\" value={addPrice} onChange={(e) => setAddPrice(e.target.value)}></input>\r\n                </div>\r\n                <div className=\"input__container\">\r\n                    <label>Category</label>\r\n                    <select value={addCategory} onChange={(e) => setAddCategory(e.target.value)}>\r\n                        <option value=\"\" disabled>Choose a type</option>\r\n                        <option value=\"automatic\">Automatic</option>\r\n                        <option value=\"chronograph\">Chronograph</option>\r\n                        <option value=\"dress\">Dress</option>\r\n                    </select>\r\n                </div>\r\n                <button onClick={addWatch}>Add watch</button>\r\n            </div>\r\n            {/* View watches */}\r\n            <div>\r\n                <button onClick={viewAllWatches}>View all watches</button>\r\n            {watchesList &&\r\n            watchesList.map(item => \r\n                <div>\r\n                    <p>Name: {item.name}</p>\r\n                    <p>Category: {item.category}</p>\r\n                    <p>Price: ${item.price}</p>\r\n                    <button onClick={() => deleteWatch(item._id)}>Delete</button>\r\n                </div>\r\n            )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AdminDashboard","//Dependencies\r\nimport React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport { FiWatch } from 'react-icons/fi';\r\n\r\n\r\nconst Product = (props) => {\r\n    const [productData, setProductData] = useState();\r\n\r\n    const readProductData = (productId) => {\r\n        axios.get('/api/products', {\r\n            params: {\r\n                id: productId\r\n            }\r\n        })\r\n        .then(res => {\r\n            setProductData(res.data);\r\n        })\r\n        .catch(err => {\r\n            console.log(\"Error: \" + err);\r\n        })\r\n    }\r\n    \r\n\r\n    return (\r\n        <div className=\"product__container\">\r\n            <p>Product</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Product","import React from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { updateView, updateUserData, updateIsLogged } from './actions';\n//Components\nimport Home from './pages/Home';\nimport Login from './pages/Login';\nimport UserDashboard from './pages/UserDashboard';\nimport AdminDashboard from './pages/AdminDashboard';\nimport Product from './pages/Product';\n//Icons\nimport { CgLogOut, CgProfile } from 'react-icons/cg';\n\nfunction App() {\n  //State\n  const userData = useSelector(state => state.userData)\n  const view = useSelector(state => state.view)\n  const isLogged = useSelector(state => state.isLogged);\n\n  const dispatch = useDispatch();\n\n  const readUserData = () => {\n    axios.get('/api/users', {\n        params: {\n            email: userData.email\n        }\n    })\n    .then(res => {\n        //set user data\n        const newUserData = res.data;\n        dispatch(updateUserData(newUserData));\n        //set headers\n        const userToken = res.headers[\"auth-token\"];\n        sessionStorage.setItem('userToken', userToken);\n    })\n    .catch(err => {\n        console.log(\"Error: \" + err);\n    })\n}\n\n  return (\n    <div className=\"App\">\n        <div className=\"navbar\">\n            <div className=\"logo\">\n\n            </div>\n            <div className=\"links__container\">\n                <div className=\"link\">\n                  <p onClick={() => dispatch(updateView('home'))}>Home</p>\n                </div>\n            </div>\n            {isLogged ?\n              <div className=\"profile\">\n                {userData.role === 'admin' ?\n                <CgProfile className=\"profile__icon\" onClick={() => dispatch(updateView('admin-dashboard'))} /> :\n                <CgProfile className=\"profile__icon\" onClick={() => dispatch(updateView('user-dashboard'))} />\n                }\n                <CgLogOut className=\"logout__icon\" onClick={() => dispatch(updateIsLogged(false))} />\n              </div>\n              :\n              <div className=\"profile\">\n                <p onClick={() => dispatch(updateView('login'))}>Login</p>\n              </div>\n            }\n        </div>\n        {view === 'home' &&\n          <Home />\n        }\n        {view === 'login' &&\n          <Login />\n        }\n        {view === 'admin-dashboard' &&\n          <AdminDashboard readUserData={readUserData} />\n        }\n        {view === 'user-dashboard' &&\n          <UserDashboard readUserData={readUserData} />\n        }\n        {view === 'product' &&\n          <Product readUserData={readUserData} />\n        }\n    </div>\n  );\n}\n\nexport default App;\n","const userDataReducer = (state = {}, action) => {\r\n    switch(action.type){\r\n        case 'UPDATE_USERDATA':\r\n            return action.payload\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default userDataReducer","const viewReducer = (state = 'home', action) => {\r\n    switch(action.type){\r\n        case 'UPDATE_VIEW':\r\n            return action.payload;\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default viewReducer","const isLoggedReducer = (state = false, action) => {\r\n    switch(action.type){\r\n        case 'UPDATE_ISLOGGED':\r\n            return action.payload;\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default isLoggedReducer","import userDataReducer from './userData';\r\nimport viewReducer from './view';\r\nimport isLoggedReducer from './isLogged';\r\nimport {combineReducers} from 'redux';\r\n\r\nconst rootReducer = combineReducers({\r\n    userData: userDataReducer,\r\n    view: viewReducer,\r\n    isLogged: isLoggedReducer\r\n})\r\n\r\nexport default rootReducer","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { createStore } from 'redux';\nimport rootReducer from './reducers';\nimport {Provider} from 'react-redux';\n\nconst store = createStore(\n  rootReducer,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n)\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}